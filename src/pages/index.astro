---
import BaseLayout from '../layouts/BaseLayout.astro';
import HorizontalCard from '../components/HorizontalCard.astro';

const posts = (await Astro.glob('./blog/*.{md,mdx}')).sort(
  (a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);

const last_posts = posts.slice(0, 3);
---

<BaseLayout>
  <div class='mt-5 pb-12'>
    <div class='py-1 text-xl'>Hey there ðŸ‘‹</div>
    <div class='text-5xl font-bold'>I'm Manuel Ernesto</div>
    <div class='py-3 text-3xl font-bold'>Software Engineer and Entrepreneur</div>
    <div class='py-2'>
      <text class='text-lg'>
        I made this template for everyone who needs to create a personal website easily and quickly. This template
        includes Project Section, CV Section, Store, Paginated Blog, RSS Feed, SEO Friendly, Responsive Desing and 29
        Visual themes. I hope you find it useful!
      </text>
    </div>
    <div class='mt-8'>
      <a class='btn' href='https://twitter.com/manuelernestog' target='_blank'> Let's connect!</a>
      <a
        href='https://github.com/manuelernestog/astro-modern-personal-website'
        target='_blank'
        class='btn btn-outline ml-5'
      >
        Get This template</a
      >
    </div>
  </div>

  <div>
    <div class='mb-2 w-full text-3xl font-bold'>My last projects {'</>'}</div>
  </div>

  <HorizontalCard
    title='Demo Project 1'
    img='/post_img.webp'
    desc='Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'
    url='#'
    badge='NEW'
  />
  <div class='divider my-0'></div>
  <HorizontalCard
    title='Demo Project 2'
    img='/post_img.webp'
    desc='Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'
    url='#'
  />
  <div class='divider my-0'></div>
  <HorizontalCard
    title='Demo Project 3'
    img='/post_img.webp'
    desc='Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'
    url='#'
    badge='FOSS'
  />

  <div>
    <div class='mb-5 mt-10 w-full text-3xl font-bold'>Latest from blog</div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.frontmatter.title}
          img={post.frontmatter.heroImage}
          desc={post.frontmatter.description}
          url={post.url}
          target='_self'
        />
        <div class='divider my-0' />
      </>
    ))
  }
</BaseLayout>
