---
import BaseLayout from '../layouts/BaseLayout.astro';
import HorizontalCard from '../components/HorizontalCard.astro';
import { getAllProjects } from '../lib/projects.astro';

const projects = await getAllProjects();
---

<BaseLayout title='Projects'>
  <h1 class='mb-8 text-3xl font-bold'>My projects</h1>

  <div>
    {
      projects.map((project) => (
        <>
          <HorizontalCard
            title={project.data.title}
            img={project.data.image}
            desc={project.data.description}
            url={`/${project.collection}/${project.slug}`}
          />
          <div class='divider' />
        </>
      ))
    }
  </div>
</BaseLayout>
